<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title><![CDATA[Space of soGary]]></title>
  <subtitle><![CDATA[Let's Build Up Stark Industries]]></subtitle>
  <link href="/atom.xml" rel="self"/>
  <link href="http://sogary.github.io/"/>
  <updated>2015-11-17T08:09:07.000Z</updated>
  <id>http://sogary.github.io/</id>
  
  <author>
    <name><![CDATA[soGary]]></name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title><![CDATA[Retrofitçš„å®ç°åŸç†(ä¸€)]]></title>
    <link href="http://sogary.github.io/2015/11/17/Retrofit%E7%9A%84%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86-%E4%B8%80/"/>
    <id>http://sogary.github.io/2015/11/17/Retrofitçš„å®ç°åŸç†-ä¸€/</id>
    <published>2015-11-16T23:26:39.000Z</published>
    <updated>2015-11-17T08:09:07.000Z</updated>
    <content type="html"><![CDATA[<p>Retrofitæ¡†æ¶å®ç°çš„è¿™ä¹ˆå·§å¦™,è™½ç„¶æˆ‘ä»¬ä¸éœ€è¦å†é€ ä¸€ä¸ªè½®å­,ä½†ç ”ç©¶ä¸‹è½®å­çš„å®ç°è¿˜æ˜¯å¾ˆæœ‰å¸®åŠ©çš„ã€‚</p>
<p>Retrofitæœ‰å‡ ä¸ªå…³é”®çš„åœ°æ–¹ï¼š</p>
<ul>
<li>ç”¨æˆ·è‡ªå®šä¹‰çš„æ¥å£å’Œæ¥å£æ–¹æ³•.(ç”±åŠ¨æ€ä»£ç†åˆ›å»ºå¯¹è±¡.)</li>
<li>Converterè½¬æ¢å™¨.(æŠŠresponseè½¬æ¢ä¸ºä¸€ä¸ªå…·ä½“çš„å¯¹è±¡)</li>
<li>æ³¨è§£çš„ä½¿ç”¨.</li>
</ul>
<p>å…ˆä»APIæ¥çœ‹ã€‚</p>
<a id="more"></a>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">RestAdapter restAdapter = <span class="keyword">new</span> RestAdapter.Builder().setEndpoint(API_URL).build();</span><br></pre></td></tr></table></figure>
<p>build()å…¶å†…éƒ¨å®ç°æ˜¯è¿™æ ·çš„:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> RestAdapter <span class="title">build</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (endpoint == <span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">"Endpoint may not be null."</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    ensureSaneDefaults();</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> RestAdapter(endpoint, clientProvider, httpExecutor, </span><br><span class="line">        callbackExecutor, requestInterceptor, converter, profiler, </span><br><span class="line">        errorHandler, log, logLevel);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å½“ç”¨æˆ·æ²¡æœ‰è®¾ç½®è‡ªå®šä¹‰çš„converterï¼Œclientï¼Œ httpExecutorï¼ˆhttpè®¿é—®æ‰§è¡Œçš„çº¿ç¨‹åªå¯¹å¼‚æ­¥çš„retrofitæœ‰æ•ˆï¼‰ï¼Œ callBackExecutorï¼ˆå¼‚æ­¥çš„callBackæ‰§è¡Œçš„çº¿ç¨‹ï¼‰ï¼ŒerrorHandlerï¼Œlogï¼Œ RequestInterceptorçš„æ—¶å€™ï¼Œå°±ä¼šä½¿ç”¨retrofité»˜è®¤çš„é…ç½®ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">ensureSaneDefaults</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (converter == <span class="keyword">null</span>) &#123;</span><br><span class="line">        converter = Platform.get().defaultConverter();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (clientProvider == <span class="keyword">null</span>) &#123;</span><br><span class="line">        clientProvider = Platform.get().defaultClient();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (httpExecutor == <span class="keyword">null</span>) &#123;</span><br><span class="line">        httpExecutor = Platform.get().defaultHttpExecutor();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (callbackExecutor == <span class="keyword">null</span>) &#123;</span><br><span class="line">        callbackExecutor = Platform.get().defaultCallbackExecutor();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (errorHandler == <span class="keyword">null</span>) &#123;</span><br><span class="line">        errorHandler = ErrorHandler.DEFAULT;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (log == <span class="keyword">null</span>) &#123;</span><br><span class="line">        log = Platform.get().defaultLog();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (requestInterceptor == <span class="keyword">null</span>) &#123;</span><br><span class="line">        requestInterceptor = RequestInterceptor.NONE;</span><br><span class="line">    &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Platform.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> Platform PLATFORM = findPlatform();</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">static</span> Platform <span class="title">get</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> PLATFORM;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> Platform <span class="title">findPlatform</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        Class.forName(<span class="string">"android.os.Build"</span>);<span class="comment">//åªè¦android.os.Buildçš„classå¯ä»¥æ­£å¸¸æ‰¾åˆ°,è¯æ˜æ˜¯åœ¨androidå¹³å°</span></span><br><span class="line">        <span class="keyword">if</span> (Build.VERSION.SDK_INT != <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> Android();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (ClassNotFoundException ignored) &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (System.getProperty(<span class="string">"com.google.appengine.runtime.version"</span>) != <span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> AppEngine();   <span class="comment">//googleçš„app Engineå¹³å°</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> Base();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Retrofitçš„Androidç±»ç»§æ‰¿äº†Platformï¼Œæ ¹æ®androidçš„ç‰¹æ€§å¯¹é…ç½®é¡¹åšäº†å¤„ç†ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Android</span> <span class="keyword">extends</span> <span class="title">Platform</span> </span>&#123;</span><br><span class="line">    <span class="annotation">@Override</span> <span class="function">Converter <span class="title">defaultConverter</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> GsonConverter(<span class="keyword">new</span> Gson());  <span class="comment">//é»˜è®¤çš„è½¬æ¢å™¨æ˜¯Gson</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="annotation">@Override</span> Client.<span class="function">Provider <span class="title">defaultClient</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">final</span> Client client;</span><br><span class="line">        <span class="keyword">if</span> (hasOkHttpOnClasspath()) &#123;  <span class="comment">//æœ‰okhttpçš„è·¯å¾„å°±ä½¿ç”¨ Okhttp</span></span><br><span class="line">            client = OkClientInstantiator.instantiate();</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.GINGERBREAD) &#123;</span><br><span class="line">            client = <span class="keyword">new</span> AndroidApacheClient(); <span class="comment">//æ²¡æœ‰okhttp,ä¸”ç‰ˆæœ¬å°äº2.3 ä½¿ç”¨HttpClient</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            client = <span class="keyword">new</span> UrlConnectionClient();  <span class="comment">//æ²¡æœ‰okhttp,ä¸”ç‰ˆæœ¬å¤§äºç­‰äº2.3 ä½¿ç”¨urlConnection.</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Client.Provider() &#123;</span><br><span class="line">            <span class="annotation">@Override</span> <span class="function"><span class="keyword">public</span> Client <span class="title">get</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> client;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="annotation">@Override</span> <span class="function">Executor <span class="title">defaultHttpExecutor</span><span class="params">()</span> </span>&#123;   <span class="comment">//ç½‘ç»œè®¿é—®æ‰§è¡Œçš„çº¿ç¨‹.</span></span><br><span class="line">        <span class="keyword">return</span> Executors.newCachedThreadPool(<span class="keyword">new</span> ThreadFactory() &#123;  <span class="comment">//ä¸€ä¸ªcachedçš„çº¿ç¨‹æ± .å¯ä»¥å¤ç”¨è€çº¿ç¨‹ä¸”çº¿ç¨‹é•¿æ—¶é—´ä¸ç”¨ä¼šè‡ªåŠ¨å›æ”¶. çº¿ç¨‹æ± ä¸­çº¿ç¨‹ä¸å¤Ÿä¼šç”Ÿæˆæ–°çº¿ç¨‹.</span></span><br><span class="line">            <span class="annotation">@Override</span> <span class="function"><span class="keyword">public</span> Thread <span class="title">newThread</span><span class="params">(<span class="keyword">final</span> Runnable r)</span> </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">new</span> Thread(<span class="keyword">new</span> Runnable() &#123;</span><br><span class="line">                    <span class="annotation">@Override</span> <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                        Process.setThreadPriority(THREAD_PRIORITY_BACKGROUND);    <span class="comment">//è®¾ç½®çº¿ç¨‹çš„ä¼˜å…ˆçº§ ä¸ºæœ€ä½</span></span><br><span class="line">                        r.run();</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;, RestAdapter.IDLE_THREAD_NAME);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="annotation">@Override</span> <span class="function">Executor <span class="title">defaultCallbackExecutor</span><span class="params">()</span> </span>&#123; <span class="comment">//å¼‚æ­¥æ‰§è¡Œçš„çº¿ç¨‹.</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> MainThreadExecutor();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="annotation">@Override</span> RestAdapter.<span class="function">Log <span class="title">defaultLog</span><span class="params">()</span> </span>&#123;  <span class="comment">//é€šè¿‡Log.d("Retrofit",String)æ‰“å°log</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> AndroidLog(<span class="string">"Retrofit"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">hasOkHttpOnClasspath</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        Class.forName(<span class="string">"com.squareup.okhttp.OkHttpClient"</span>); <span class="comment">//æ˜¯å¦å¯ä»¥æ‰¾åˆ°OkHttpClientç±».</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (ClassNotFoundException ignored) &#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¯ä»¥å‘ç°ä¸Šé¢é»˜è®¤çš„Httpçš„Executoræ˜¯ä¸€ä¸ªçº¿ç¨‹æ± ã€‚<br>è€ŒCallBackçš„Executoræ˜¯åœ¨ä¸»çº¿ç¨‹æ‰§è¡Œçš„ã€‚ç”±ç»‘å®šMainLooperçš„Handleræäº¤åˆ°ä¸»çº¿ç¨‹æ‰§è¡Œã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">MainThreadExecutor</span> <span class="keyword">implements</span> <span class="title">Executor</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Handler handler = <span class="keyword">new</span> Handler(Looper.getMainLooper()); <span class="comment">//å…³è”ä¸»çº¿ç¨‹çš„Handler</span></span><br><span class="line"></span><br><span class="line">    <span class="annotation">@Override</span> <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">execute</span><span class="params">(Runnable r)</span> </span>&#123;</span><br><span class="line">        handler.post(r);                                 <span class="comment">//æäº¤åˆ°ä¸»çº¿ç¨‹æ‰§è¡Œ</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">boolean</span> <span class="title">post</span><span class="params">(Runnable r)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span>  sendMessageDelayed(getPostMessage(r), <span class="number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> Message <span class="title">getPostMessage</span><span class="params">(Runnable r)</span> </span>&#123;   <span class="comment">//æŠŠrunnableå°è£…åˆ°Messageä¸­.</span></span><br><span class="line">    Message m = Message.obtain();</span><br><span class="line">    m.callback = r;</span><br><span class="line">    <span class="keyword">return</span> m;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
    <summary type="html">
    <![CDATA[<p>Retrofitæ¡†æ¶å®ç°çš„è¿™ä¹ˆå·§å¦™,è™½ç„¶æˆ‘ä»¬ä¸éœ€è¦å†é€ ä¸€ä¸ªè½®å­,ä½†ç ”ç©¶ä¸‹è½®å­çš„å®ç°è¿˜æ˜¯å¾ˆæœ‰å¸®åŠ©çš„ã€‚</p>
<p>Retrofitæœ‰å‡ ä¸ªå…³é”®çš„åœ°æ–¹ï¼š</p>
<ul>
<li>ç”¨æˆ·è‡ªå®šä¹‰çš„æ¥å£å’Œæ¥å£æ–¹æ³•.(ç”±åŠ¨æ€ä»£ç†åˆ›å»ºå¯¹è±¡.)</li>
<li>Converterè½¬æ¢å™¨.(æŠŠresponseè½¬æ¢ä¸ºä¸€ä¸ªå…·ä½“çš„å¯¹è±¡)</li>
<li>æ³¨è§£çš„ä½¿ç”¨.</li>
</ul>
<p>å…ˆä»APIæ¥çœ‹ã€‚</p>]]>
    
    </summary>
    
      <category term="Android" scheme="http://sogary.github.io/tags/Android/"/>
    
      <category term="Network" scheme="http://sogary.github.io/tags/Network/"/>
    
      <category term="Retrofit" scheme="http://sogary.github.io/tags/Retrofit/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[ç®€å•æœåŠ¡å™¨æ¶æ„æ”¹é€ ]]></title>
    <link href="http://sogary.github.io/2015/11/11/%E7%AE%80%E5%8D%95%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%9E%B6%E6%9E%84%E6%94%B9%E9%80%A0/"/>
    <id>http://sogary.github.io/2015/11/11/ç®€å•æœåŠ¡å™¨æ¶æ„æ”¹é€ /</id>
    <published>2015-11-11T00:51:42.000Z</published>
    <updated>2015-11-11T01:10:48.000Z</updated>
    <content type="html"><![CDATA[<p>æœ€è¿‘æœ‹å‹éœ€è¦åšä¸€ä¸ªçº¿ä¸Šæµé‡å³°å€¼å¾ˆå¤§çš„æ´»åŠ¨ï¼Œç¬¬ä¸€å¤©ç”±äºæŸæ®µæ—¶é—´å¤ªå¤šäººå¹¶å‘è®¿é—®ï¼ŒæœåŠ¡å™¨æ€§èƒ½åˆ°å³°å€¼å°±å´©æºƒäº†ã€‚ä»–ç”¨çš„æ˜¯Discuzé‡Œé¢ä¸€ä¸ªç®€å•æ’ä»¶ï¼Œä¹‹å‰æ˜¯ä»˜é’±è®©å¤–é¢çš„äººå¸®å¿™æ­èµ·æ¥çš„ã€‚æˆ‘é‚£å¤©æ™šä¸Šçœ‹äº†ä¸€ä¸‹æƒ…å†µï¼Œç„¶åæˆ‘ä¹Ÿè¾¾åˆ°ç–¯å€¼å´©æºƒäº†ã€‚</p>
<p>ä»–ä»¬åœ¨é˜¿é‡Œäº‘ä¹°äº†å•å°æœåŠ¡å™¨ï¼Œæ‰€æœ‰ä¸œè¥¿ä¸¢è¿›å»ï¼ŒæŠŠCPUï¼Œå†…å­˜å’Œç½‘ç»œèµ„æºè°ƒæ•´å¾—æ¯”è¾ƒé«˜ã€‚ä¸€å°äº‘æœåŠ¡å™¨ç”šè‡³æ¯”æˆ‘åšçš„ä¸€å¥—æ¡†æ¶è¿˜è´µğŸ˜‚ã€‚ä¸ºäº†é¿å…é«˜å¹¶å‘å¸¦æ¥çš„ç³»ç»Ÿå´©æºƒï¼Œæˆ‘å¼€å§‹å¸®ä»–åœ¨ç°æœ‰çš„ç³»ç»Ÿä¸‹æ”¹æœåŠ¡å™¨æ¶æ„ã€‚</p>
<a id="more"></a>
<h2 id="å•æœåŠ¡å™¨">å•æœåŠ¡å™¨</h2><p>ä»–ä»¬åŸæ¥çš„éƒ¨ç½²é€»è¾‘æ˜¯æŠŠæ‰€æœ‰çš„ä¸œè¥¿ä¸¢åœ¨åŒä¸€å°æœåŠ¡ï¼Œç„¶åæŠŠè¿™å°æœåŠ¡å™¨çš„æ€§èƒ½è°ƒé«˜ã€‚æ˜¾ç„¶è¿™ç§å°å­¦ç”Ÿçš„åšæ³•åªå¯ä»¥æ»¡è¶³ä¸€äº›ä½å¹¶å‘çš„éœ€æ±‚ï¼Œå‡ ä¸ªäººç©ç©æ³¥æ²™è¿™æ ·åšæ˜¯æ²¡é—®é¢˜çš„ã€‚ä½†æ˜¯ï¼Œæˆ‘æœ‹å‹çš„æ´»åŠ¨æœ‰å‡ åä¸‡äººå‚ä¸ï¼Œè€Œä¸”æœ‰æ¯”è¾ƒé›†ä¸­çš„å³°å€¼ï¼Œè¿™ç§æ¶æ„æ˜¾ç„¶ä¸èƒ½æ’‘èµ·æ‰€æœ‰è®¿é—®ã€‚</p>
<p><img src="http://7xo6cz.com1.z0.glb.clouddn.com/20151111/singleserver.png" alt="singleserver"></p>
<h2 id="è´Ÿè½½å‡è¡¡">è´Ÿè½½å‡è¡¡</h2><p>é¦–å…ˆæˆ‘æŠŠæ•°æ®åº“è¿›è¡Œäº†åˆ†ç¦»ï¼Œä¸šåŠ¡å¤„ç†ä¸æ•°æ®å¤„ç†çš„åˆ†ç¦»æœ‰æ•ˆå‡å°‘æœåŠ¡å™¨çš„è®¡ç®—å’ŒIOå‹åŠ›ã€‚äº‘æ•°æ®åº“æœ¬èº«çš„HAå’Œå®šæœŸå¤‡ä»½æ¯”è¾ƒæœ‰ä¿è¯ã€‚è¿™æ ·æ•°æ®æœ¬èº«å¯ä»¥å®‰å…¨çš„è¢«éš”ç¦»ï¼Œè€Œè¯»å†™è®¿é—®çš„å‹åŠ›ä¹Ÿåˆ†ç¦»äº†ã€‚</p>
<p>ä¹‹åæˆ‘ç”¨å››å°æ€§èƒ½æ¯”å‰é¢æåŠåˆ°çš„å•æœºä½çš„äº‘æœåŠ¡å™¨ï¼Œåˆ†åˆ«æ­å»ºäº†è¯¥ç³»ç»Ÿã€‚ç”±äºç³»ç»Ÿç¨‹åºæœ¬èº«çš„å±€é™æ€§ï¼Œæˆ‘æŠŠä¸šåŠ¡é€»è¾‘å’Œæ–‡ä»¶å¤„ç†æ”¾åœ¨äº†ä¸€èµ·ï¼ŒåŠ ä¸Šä¸€ä¸ªè´Ÿè½½å‡è¡¡åšè®¿é—®åˆ†å‘ã€‚ç”±äºSessionåŒæ­¥é—®é¢˜ï¼Œæˆ‘ä½¿ç”¨äº†æºIPè®¿é—®çš„å½¢å¼è¿›è¡Œè®¿é—®çš„åˆ†å‘ã€‚</p>
<p><img src="http://7xo6cz.com1.z0.glb.clouddn.com/20151111/loadbalance.png" alt="laodbalance"></p>
<h2 id="æ–‡ä»¶æœåŠ¡å™¨">æ–‡ä»¶æœåŠ¡å™¨</h2><p>ç»è¿‡æ•°æ®åº“åˆ†ç¦»å’Œè´Ÿè½½å‡è¡¡ï¼Œåœ¨å³°å€¼çš„æ—¶å€™æˆ‘ä»¬å‘ç°é€Ÿåº¦æœ‰æ‰€æ”¹è¿›ï¼Œé¡µé¢æ‰“å¼€çš„æ—¶å€™å¾ˆå¿«æœ‰ååº”ï¼Œä½†æ˜¯å›¾ç‰‡åŠ è½½éå¸¸æ…¢ï¼Œå¯¼è‡´æ•´ä½“é¡µé¢æ‰“å¼€é€Ÿåº¦éå¸¸æ…¢ã€‚é€šè¿‡æœåŠ¡å™¨çš„å‚æ•°å¯¹æ¯”ï¼Œå‘ç°ç½‘ç»œæµé‡å ç”¨ç‰¹åˆ«å¤§ï¼ŒåŸå› æ˜¯å›¾ç‰‡æ²¡æœ‰é›†ä¸­å­˜å‚¨è¿›è¡Œç‹¬ç«‹åˆ†å‘ï¼Œéœ€è¦åœ¨å››å°æœåŠ¡å™¨è¿›è¡Œåˆ†å‘ã€‚å½“å¤§é‡å¹¶å‘è®¿é—®çš„æ—¶å€™ï¼Œæ‰€æœ‰çš„æµé‡éƒ½ç”¨äºåˆ†å‘å›¾ç‰‡ï¼Œæ²¡åŠæ³•æ”¯æ’‘èµ·æ–°çš„è¯·æ±‚ã€‚</p>
<p>æˆ‘ä»¬ç«‹åˆ»åšäº†ä¸€ä¸ªåº”æ€¥å¤„ç†ï¼Œæˆ‘æŠŠæ‰€æœ‰æœåŠ¡å™¨çš„å¸¦å®½éƒ½åŠ¨æ€è°ƒæ•´åˆ°è¾ƒå¤§çš„æœ€é«˜å€¼ã€‚è€Œä¸”ï¼Œæˆ‘å‘ç°å¤§é‡å›¾ç‰‡å ç”¨çš„ç©ºé—´åå¤§ï¼Œåˆ†å‘çš„æ—¶å€™ä¸¥é‡å ç”¨å¸¦å®½ï¼Œå°±ç®—ç¼©å°10å€ä¹Ÿä¸ä¼šå½±å“ç”¨æˆ·ä½¿ç”¨ã€‚æ‰€ä»¥ï¼Œæˆ‘è®©æœ‹å‹æŠŠæ‰€æœ‰å›¾ç‰‡éƒ½ç¼©å°ã€‚æœ€ååˆ©ç”¨è¿™ç§æ–¹æ³•å¬è¿‡å»ï¼Œæ´»åŠ¨é¡ºåˆ©ç»“æŸã€‚</p>
<p>ç”±äºè¿™ç±»æ´»åŠ¨ä¼šé¢‘ç¹ä¸¾è¡Œï¼Œæˆ‘æƒ³åœ¨ç©ºæ¡£æœŸé—´æŠŠç³»ç»Ÿè¿›è¡Œæ”¹é€ ã€‚æŠŠå›¾ç‰‡æœåŠ¡å™¨åˆ†ç¦»å‡ºæ¥ï¼Œä½¿ç”¨ç¬¬ä¸‰æ–¹å¯¹è±¡å­˜å‚¨è¿›è¡Œå›¾ç‰‡è®¿é—®å’Œåˆ†å‘ï¼Œä¾‹å¦‚ç°åœ¨å¾ˆç«çš„<a href="http://www.qiniu.com/" target="_blank" rel="external">ä¸ƒç‰›</a>ã€‚ç”±äºè¿™ç§æ”¹é€ éœ€æ±‚ä¿®æ”¹æºç ï¼Œæ‰€ä»¥æ—¥åå¼€å§‹å¼€å‘çš„æ—¶å€™å°±éœ€è¦è€ƒè™‘åˆ°è¿™ç§æƒ…å†µã€‚</p>
<p><img src="http://7xo6cz.com1.z0.glb.clouddn.com/20151111/withfileserver.png" alt="withfileserver"></p>
<h2 id="å†…å­˜å­˜å‚¨">å†…å­˜å­˜å‚¨</h2><p>åˆ°å†ä¸‹ä¸€æ­¥ï¼Œç½‘ç«™æ¯”è¾ƒå¤šåŠ¨æ€æ€æ•°æ®æ›´æ–°é¢‘ç‡ä¸é«˜ï¼Œå¯ä»¥ç”¨å†…å­˜å­˜å‚¨è¿›è¡Œçºªå½•ã€‚è€Œä¸”å¯¹ä¸ç½‘ç«™è®¿é—®ï¼ŒæŠŠSessionç»Ÿä¸€å­˜æ”¾ä¹Ÿæ˜¯æ¯”è¾ƒå¥½ç®¡ç†çš„ã€‚æ‰€ä»¥ï¼Œå¢åŠ å†…å­˜å­˜å‚¨èƒ½å¤Ÿå¸®åŠ©ç³»ç»Ÿæå‡æ€§èƒ½å’Œå¯ç”¨æ€§ã€‚æœ‰äº†å†…å­˜å­˜å‚¨èƒ½å¤Ÿæå‡éƒ¨åˆ†è®¿é—®é€Ÿåº¦ï¼Œè€Œä¸”å¯ä»¥æŠŠè´Ÿè½½å‡è¡¡çš„åˆ†å‘æ”¹æˆè½®è¯¢ï¼Œä½¿åº”ç”¨æœåŠ¡å™¨çš„å‹åŠ›åˆ†é…æ¯”è¾ƒå¹³å‡ã€‚</p>
<p><img src="http://7xo6cz.com1.z0.glb.clouddn.com/20151111/withmemory.png" alt="withmemory"></p>
<h2 id="æ€»ç»“">æ€»ç»“</h2><p>å½“æˆ‘ä»¬åšæœåŠ¡å™¨æ¶æ„çš„æ—¶å€™éœ€è¦è€ƒè™‘å¤§ä¸€ç‚¹ï¼Œä¸æ˜¯æŠŠæ‰€æœ‰ä¸œè¥¿æ”¾åœ¨ä¸€å°æœåŠ¡å™¨ä¸Šï¼Œç„¶åæŠŠå•å°æœåŠ¡å™¨æ€§èƒ½æå‡å°±å¯ä»¥è§£å†³é—®é¢˜çš„ã€‚æœ¯ä¸šæœ‰ä¸“æ”»ï¼Œä¸åŒçš„æœåŠ¡å™¨å®Œæˆä¸åŒçš„åŠŸèƒ½ï¼Œé€šåŠ›åˆä½œï¼Œè¿™æ ·é¡ºåˆ©æ‰èƒ½å®Œæˆå¤§é‡ä»»åŠ¡ã€‚å½“ç„¶ï¼Œè¦å¤„ç†æ›´å¤§çš„ä¸šåŠ¡é‡ï¼Œè¿™ç§æ¶æ„è‚¯å®šå¥½å¿«å‡ºç°ç“¶é¢ˆï¼Œè¿˜æœ‰å¾ˆå¤šæ›´åŠ ç»†èŠ‚çš„ä¼˜åŒ–éœ€è¦æ³¨æ„ã€‚</p>
<p>è¿™é‡Œåªæ˜¯çºªå½•æˆ‘å¹³æ—¶çš„ä¸€äº›å·¥ä½œæˆ–è€…ä¸€äº›æƒ³æ³•ï¼Œä¹Ÿä¼šå†™ä¸€å†™è‡ªå·±å¯¹ä¸€äº›æŠ€æœ¯çš„ç†è§£ï¼Œå½“ç„¶è¿˜ä¼šåˆ†äº«ä¸€äº›æ¯”è¾ƒå‰å®³çš„æ–‡ç« ã€‚</p>
]]></content>
    <summary type="html">
    <![CDATA[<p>æœ€è¿‘æœ‹å‹éœ€è¦åšä¸€ä¸ªçº¿ä¸Šæµé‡å³°å€¼å¾ˆå¤§çš„æ´»åŠ¨ï¼Œç¬¬ä¸€å¤©ç”±äºæŸæ®µæ—¶é—´å¤ªå¤šäººå¹¶å‘è®¿é—®ï¼ŒæœåŠ¡å™¨æ€§èƒ½åˆ°å³°å€¼å°±å´©æºƒäº†ã€‚ä»–ç”¨çš„æ˜¯Discuzé‡Œé¢ä¸€ä¸ªç®€å•æ’ä»¶ï¼Œä¹‹å‰æ˜¯ä»˜é’±è®©å¤–é¢çš„äººå¸®å¿™æ­èµ·æ¥çš„ã€‚æˆ‘é‚£å¤©æ™šä¸Šçœ‹äº†ä¸€ä¸‹æƒ…å†µï¼Œç„¶åæˆ‘ä¹Ÿè¾¾åˆ°ç–¯å€¼å´©æºƒäº†ã€‚</p>
<p>ä»–ä»¬åœ¨é˜¿é‡Œäº‘ä¹°äº†å•å°æœåŠ¡å™¨ï¼Œæ‰€æœ‰ä¸œè¥¿ä¸¢è¿›å»ï¼ŒæŠŠCPUï¼Œå†…å­˜å’Œç½‘ç»œèµ„æºè°ƒæ•´å¾—æ¯”è¾ƒé«˜ã€‚ä¸€å°äº‘æœåŠ¡å™¨ç”šè‡³æ¯”æˆ‘åšçš„ä¸€å¥—æ¡†æ¶è¿˜è´µğŸ˜‚ã€‚ä¸ºäº†é¿å…é«˜å¹¶å‘å¸¦æ¥çš„ç³»ç»Ÿå´©æºƒï¼Œæˆ‘å¼€å§‹å¸®ä»–åœ¨ç°æœ‰çš„ç³»ç»Ÿä¸‹æ”¹æœåŠ¡å™¨æ¶æ„ã€‚</p>]]>
    
    </summary>
    
      <category term="Framework" scheme="http://sogary.github.io/tags/Framework/"/>
    
      <category term="Server" scheme="http://sogary.github.io/tags/Server/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Hello World]]></title>
    <link href="http://sogary.github.io/2015/11/09/hello-world/"/>
    <id>http://sogary.github.io/2015/11/09/hello-world/</id>
    <published>2015-11-09T07:38:12.000Z</published>
    <updated>2015-11-09T07:38:12.000Z</updated>
    <content type="html"><![CDATA[<p>Welcome to <a href="http://hexo.io/" target="_blank" rel="external">Hexo</a>! This is your very first post. Check <a href="http://hexo.io/docs/" target="_blank" rel="external">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="http://hexo.io/docs/troubleshooting.html" target="_blank" rel="external">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="external">GitHub</a>.</p>
<h2 id="Quick_Start">Quick Start</h2><h3 id="Create_a_new_post">Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>
<p>More info: <a href="http://hexo.io/docs/writing.html" target="_blank" rel="external">Writing</a></p>
<a id="more"></a>
<h3 id="Run_server">Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>
<p>More info: <a href="http://hexo.io/docs/server.html" target="_blank" rel="external">Server</a></p>
<h3 id="Generate_static_files">Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>
<p>More info: <a href="http://hexo.io/docs/generating.html" target="_blank" rel="external">Generating</a></p>
<h3 id="Deploy_to_remote_sites">Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>
<p>More info: <a href="http://hexo.io/docs/deployment.html" target="_blank" rel="external">Deployment</a></p>
]]></content>
    <summary type="html">
    <![CDATA[<p>Welcome to <a href="http://hexo.io/">Hexo</a>! This is your very first post. Check <a href="http://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="http://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="Quick_Start">Quick Start</h2><h3 id="Create_a_new_post">Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>
<p>More info: <a href="http://hexo.io/docs/writing.html">Writing</a></p>]]>
    
    </summary>
    
      <category term="Hexo" scheme="http://sogary.github.io/tags/Hexo/"/>
    
  </entry>
  
</feed>
